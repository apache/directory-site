<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>1.1.7 - TGS (Ticket Granting Server) &mdash; Apache Directory</title>

    <link href="/css/common.css" rel="stylesheet" type="text/css"/>
    <link href="/css/green.css" rel="stylesheet" type="text/css"/>

    <link rel="shortcut icon" href="/images/server-icon_16x16.png" />
</head>

<body>
<div id="container">
    <div id="header">
    <div id="subProjectsNavBar">
        <a href="/">
             
                Main
            
        </a>
        &nbsp;|&nbsp;
        <a href="/apacheds/">
            
                <strong>ApacheDS</strong>
            
        </a>
        &nbsp;|&nbsp;
        <a href="/studio/">
             
                Studio
            
        </a>
        &nbsp;|&nbsp;
        <a href="/api/">
             
                LDAP API
            
        </a>
        &nbsp;|&nbsp;
        <a href="/mavibot/">
             
                Mavibot
            
        </a>
        &nbsp;|&nbsp;
        <a href="/scimple/">
             
                SCIMple
            
        </a>
        &nbsp;|&nbsp;
        <a href="/fortress/">
             
                Fortress
            
        </a>
        &nbsp;|&nbsp;
        <a href="/kerby/">
             
                Kerby
            
        </a>
    </div>
</div>


    <div id="content">
        <div id="leftColumn">
            <div id="navigation">
                
                <h5>ApacheDS 2.0</h5>
                <ul>
                    <li><a href="/apacheds/">Home</a></li>
                    <li><a href="/apacheds/news.html">News</a></li>
                    <li><a href="/apacheds/features.html">Features</a></li>
                    <li><a href="/apacheds/production-readiness.html">Production Readiness</a></li>
                </ul>

                <h5>Downloads</h5>
                <ul>
                    <li><a href="/apacheds/downloads.html">ApacheDS 2.0.0.AM26</a>&nbsp;&nbsp;<img src="/images/new_badge.gif" alt="" style="margin-bottom:-3px;" border="0"></li>
                    <li><a href="/apacheds/download-old-versions.html">Older versions</a></li>
                </ul>

                <h5>Documentation</h5>
                <ul>
                    <li><a href="/apacheds/basic-user-guide.html">Basic User Guide </a></li>
                    <li><a href="/apacheds/advanced-user-guide.html">Advanced User Guide</a></li>
                    <li><a href="/apacheds/developer-guide.html">Developer Guide</a></li>
                    <li><a href="/apacheds/kerberos-user-guide.html">Kerberos User Guide</a></li>
                    <li><a href="/apacheds/configuration/ads-2.0-configuration.html">Configuration</a></li>
                    <li><a href="/apacheds/gen-docs/latest/apidocs">JavaDocs</a></li>
                    <li><a href="/apacheds/gen-docs/latest/xref">Cross-Reference</a></li>
                </ul>

                <h5>Support</h5>
<ul>
    <li><a href="/mailing-lists-and-irc.html">Mailing Lists &amp; IRC</a></li>
    <li><a href="/sources.html">Sources</a></li>
    <li><a href="/issue-tracking.html">Issue Tracking</a></li>
    <li><a href="/commercial-support.html">Commercial Support</a></li>
</ul>

<h5>Community</h5>
<ul>
    <li><a href="/contribute.html">How to Contribute</a></li>
    <li><a href="/team.html">Team</a></li>
    <li><a href="/original-project-proposal.html">Original Project Proposal</a></li>
    <li><a href="/special-thanks.html" class="external-link" rel="nofollow">Special Thanks</a></li>
</ul>

<h5>About Apache</h5>
<ul>
    <li><a href="https://www.apache.org/">Apache</a></li>
    <li><a href="https://www.apache.org/licenses/">License</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
    <li><a href="https://www.apache.org/security/">Security</a></li>
</ul>

            </div>
        </div>
        <div id="rightColumn">
            
    <div class="nav">
        <div class="nav_prev">
            
                
                <a href="1.1.6-as.html">1.1.6 - As (Authentication Server)</a>
            
        </div>
        <div class="nav_up">
            
                
                <a href="1.1-introduction.html">1.1 - Introduction</a>
            
        </div>
        <div class="nav_next">
            
                
                <a href="1.1.8-tickets.html">1.1.8 - Tickets</a>
            
        </div>
        <div class="clearfix"></div>
    </div>


            
	<h1 id="117---tgs-ticket-granting-server">1.1.7 - TGS (Ticket Granting Server)</h1>
<p>The second major service is the <strong>Ticket Granting Server</strong>, which is the service that delivers tickets for all the managed services to the users.</p>
<p>A client can access to this service fater having been authenticated - ie, after having received a ticket allowing it to access the <strong>TGS</strong> from the <strong>AS</strong> -.</p>
<p>At this point, all the exchanges are encrypted using the user session key.</p>
<p>Ther  is not too much to tell about this service, except that ach request sent by the client contains the targeted service principal name, and the ticket issued by the <strong>AS</strong>.</p>
<h2 id="how-it-works-">How it works ?</h2>
<p>When the <strong>TGS</strong> receives a request, it will read the ticket contained in the request, and will validate it. If the ticket has been issued by the <strong>AS</strong>, then the <strong>TGS</strong> has the <strong>AS</strong> secret key and can decrypt the ticket, otherwise it&rsquo;s potentially a forged ticket, and it will be discarded.</p>
<p>The <strong>TGS</strong> then generate a ticket for the targted service, and enncryt it using the service&rsquo;s secret key, then encapsulate this encypted ticket into a response which will be itself encrypted using the client&rsquo;s secret key.</p>
<p>The client will receive this response, will decrypt it and extract the encypted ticket, and will send this encrypted ticket to the targeted service, which will be able to decrypt it and validate it.</p>
<p>Of course, in the mean time, many checks will be done relative to the ticket validity, so one can be assured that the service is only accessible by those with the credential to do so.</p>


            
    <div class="nav">
        <div class="nav_prev">
            
                
                <a href="1.1.6-as.html">1.1.6 - As (Authentication Server)</a>
            
        </div>
        <div class="nav_up">
            
                
                <a href="1.1-introduction.html">1.1 - Introduction</a>
            
        </div>
        <div class="nav_next">
            
                
                <a href="1.1.8-tickets.html">1.1.8 - Tickets</a>
            
        </div>
        <div class="clearfix"></div>
    </div>


        </div>
        <div id="endContent"></div>
    </div>

    <div id="footer">
    &copy; 2003-2022, <a href="https://www.apache.org">The Apache Software Foundation</a> - <a href="/privacy-policy.html">Privacy Policy</a><br />
    Apache Directory, ApacheDS, Apache Directory Server, Apache Directory Studio, Apache LDAP API, Apache Triplesec,
    Triplesec, Apache Mavibot, Mavibot, Apache eSCIMo, eSCIMo, Apache SCIMple, SCIMple,Fortress, Apache Fortress, EnMasse,
    Apache EnMasse, Apache Kerby, Kerby, Apache, the Apache feather logo, and the Apache Directory project logos are
    trademarks of The Apache Software Foundation.
</div>

</div>

</body>

</html>
