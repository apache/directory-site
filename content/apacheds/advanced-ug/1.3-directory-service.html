<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>1.3 - DirectoryService &mdash; Apache Directory</title>

    <link href="/css/common.css" rel="stylesheet" type="text/css"/>
    <link href="/css/green.css" rel="stylesheet" type="text/css"/>

    <link rel="shortcut icon" href="/images/server-icon_16x16.png" />
</head>

<body>
<div id="container">
    <div id="header">
    <div id="subProjectsNavBar">
        <a href="/">
             
                Main
            
        </a>
        &nbsp;|&nbsp;
        <a href="/apacheds/">
            
                <strong>ApacheDS</strong>
            
        </a>
        &nbsp;|&nbsp;
        <a href="/studio/">
             
                Studio
            
        </a>
        &nbsp;|&nbsp;
        <a href="/api/">
             
                LDAP API
            
        </a>
        &nbsp;|&nbsp;
        <a href="/mavibot/">
             
                Mavibot
            
        </a>
        &nbsp;|&nbsp;
        <a href="/scimple/">
             
                SCIMple
            
        </a>
        &nbsp;|&nbsp;
        <a href="/fortress/">
             
                Fortress
            
        </a>
        &nbsp;|&nbsp;
        <a href="/kerby/">
             
                Kerby
            
        </a>
    </div>
</div>


    <div id="content">
        <div id="leftColumn">
            <div id="navigation">
                
                <h5>ApacheDS 2.0</h5>
                <ul>
                    <li><a href="/apacheds/">Home</a></li>
                    <li><a href="/apacheds/news.html">News</a></li>
                    <li><a href="/apacheds/features.html">Features</a></li>
                    <li><a href="/apacheds/production-readiness.html">Production Readiness</a></li>
                </ul>

                <h5>Downloads</h5>
                <ul>
                    <li><a href="/apacheds/downloads.html">ApacheDS 2.0.0.AM26</a>&nbsp;&nbsp;<img src="/images/new_badge.gif" alt="" style="margin-bottom:-3px;" border="0"></li>
                    <li><a href="/apacheds/download-old-versions.html">Older versions</a></li>
                </ul>

                <h5>Documentation</h5>
                <ul>
                    <li><a href="/apacheds/basic-user-guide.html">Basic User Guide </a></li>
                    <li><a href="/apacheds/advanced-user-guide.html">Advanced User Guide</a></li>
                    <li><a href="/apacheds/developer-guide.html">Developer Guide</a></li>
                    <li><a href="/apacheds/kerberos-user-guide.html">Kerberos User Guide</a></li>
                    <li><a href="/apacheds/configuration/ads-2.0-configuration.html">Configuration</a></li>
                    <li><a href="/apacheds/gen-docs/latest/apidocs">JavaDocs</a></li>
                    <li><a href="/apacheds/gen-docs/latest/xref">Cross-Reference</a></li>
                </ul>

                <h5>Support</h5>
<ul>
    <li><a href="/mailing-lists-and-irc.html">Mailing Lists &amp; IRC</a></li>
    <li><a href="/sources.html">Sources</a></li>
    <li><a href="/issue-tracking.html">Issue Tracking</a></li>
    <li><a href="/commercial-support.html">Commercial Support</a></li>
</ul>

<h5>Community</h5>
<ul>
    <li><a href="/contribute.html">How to Contribute</a></li>
    <li><a href="/team.html">Team</a></li>
    <li><a href="/original-project-proposal.html">Original Project Proposal</a></li>
    <li><a href="/special-thanks.html" class="external-link" rel="nofollow">Special Thanks</a></li>
</ul>

<h5>About Apache</h5>
<ul>
    <li><a href="http://www.apache.org/">Apache</a></li>
    <li><a href="http://www.apache.org/licenses/">License</a></li>
    <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
    <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
    <li><a href="http://www.apache.org/security/">Security</a></li>
</ul>

            </div>
        </div>
        <div id="rightColumn">
            
    <div class="nav">
        <div class="nav_prev">
            
                
                <a href="1.2-network.html">1.2 - Network Layer</a>
            
        </div>
        <div class="nav_up">
            
                
                <a href="1-architecture.html">1 - Architecture</a>
            
        </div>
        <div class="nav_next">
            
                
                <a href="1.4-interceptors.html">1.4 - Interceptors</a>
            
        </div>
        <div class="clearfix"></div>
    </div>


            
	<h1 id="13---directoryservice">1.3 - DirectoryService</h1>
<p>The <em>DirectoryService</em> is the core of the server. This is where we process incoming requests and ask the backend for data.</p>
<p>It has an entry point, the <em>OperationManager</em>, which is in charge of pushing the requests into the <em>Interceptors</em> chain, and to protect the server against concurrent modifications.</p>
<p>Then the request is going through every <em>Interceptor</em> being registered for this operation. When we have gone through all the <em>Interceptors</em>, we have reached the <em>PartitionNexus</em>, which is the connection with the backends.</p>
<p>We now just have to determinate which type of <em>Backend</em> we should address, and this is done using the <em>Dn</em>. The request is then transmitted to the <em>Backend</em>, which returns the result.</p>
<p>The result bubbles up through the <em>Interceptors</em> as we unfold the stack stack, up to the <em>OperationManager</em> and to the caller.</p>
<h2 id="environment">Environment</h2>
<p>The <em>DirectoryService</em> knows about its execution environment : it has a <em>schemaManager</em> instance, it knows about the <em>Interceptors</em> chain, it stores a map of all the pending requests (it&rsquo;s necessary as one may abandon some request), it holds the existing <em>Sessions</em>.</p>
<p>In other word, the <em>DirectoryService</em> is not only the part of the server executing the logic, it also holds the current state of every clients.</p>


            
    <div class="nav">
        <div class="nav_prev">
            
                
                <a href="1.2-network.html">1.2 - Network Layer</a>
            
        </div>
        <div class="nav_up">
            
                
                <a href="1-architecture.html">1 - Architecture</a>
            
        </div>
        <div class="nav_next">
            
                
                <a href="1.4-interceptors.html">1.4 - Interceptors</a>
            
        </div>
        <div class="clearfix"></div>
    </div>


        </div>
        <div id="endContent"></div>
    </div>

    <div id="footer">
    &copy; 2003-2022, <a href="http://www.apache.org">The Apache Software Foundation</a> - <a href="/privacy-policy.html">Privacy Policy</a><br />
    Apache Directory, ApacheDS, Apache Directory Server, Apache Directory Studio, Apache LDAP API, Apache Triplesec,
    Triplesec, Apache Mavibot, Mavibot, Apache eSCIMo, eSCIMo, Apache SCIMple, SCIMple,Fortress, Apache Fortress, EnMasse,
    Apache EnMasse, Apache Kerby, Kerby, Apache, the Apache feather logo, and the Apache Directory project logos are
    trademarks of The Apache Software Foundation.
</div>

</div>

</body>

</html>
