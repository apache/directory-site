<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>5.3 - Logs &mdash; Apache Directory</title>

    <link href="/css/common.css" rel="stylesheet" type="text/css"/>
    <link href="/css/green.css" rel="stylesheet" type="text/css"/>

    <link rel="shortcut icon" href="/images/server-icon_16x16.png" />
</head>

<body>
<div id="container">
    <div id="header">
    <div id="subProjectsNavBar">
        <a href="/">
             
                Main
            
        </a>
        &nbsp;|&nbsp;
        <a href="/apacheds/">
            
                <strong>ApacheDS</strong>
            
        </a>
        &nbsp;|&nbsp;
        <a href="/studio/">
             
                Studio
            
        </a>
        &nbsp;|&nbsp;
        <a href="/api/">
             
                LDAP API
            
        </a>
        &nbsp;|&nbsp;
        <a href="/mavibot/">
             
                Mavibot
            
        </a>
        &nbsp;|&nbsp;
        <a href="/scimple/">
             
                SCIMple
            
        </a>
        &nbsp;|&nbsp;
        <a href="/fortress/">
             
                Fortress
            
        </a>
        &nbsp;|&nbsp;
        <a href="/kerby/">
             
                Kerby
            
        </a>
    </div>
</div>


    <div id="content">
        <div id="leftColumn">
            <div id="navigation">
                
                <h5>ApacheDS 2.0</h5>
                <ul>
                    <li><a href="/apacheds/">Home</a></li>
                    <li><a href="/apacheds/news.html">News</a></li>
                    <li><a href="/apacheds/features.html">Features</a></li>
                </ul>

                <h5>Downloads</h5>
                <ul>
                    <li><a href="/apacheds/downloads.html">ApacheDS 2.0.0.AM26</a>&nbsp;&nbsp;<img src="/images/new_badge.gif" alt="" style="margin-bottom:-3px;" border="0"></li>
                    <li><a href="/apacheds/download-old-versions.html">Older versions</a></li>
                </ul>

                <h5>Documentation</h5>
                <ul>
                    <li><a href="/apacheds/basic-user-guide.html">Basic User Guide </a></li>
                    <li><a href="/apacheds/advanced-user-guide.html">Advanced User Guide</a></li>
                    <li><a href="/apacheds/developer-guide.html">Developer Guide</a></li>
                    <li><a href="/apacheds/kerberos-user-guide.html">Kerberos User Guide</a></li>
                    <li><a href="/apacheds/configuration/ads-2.0-configuration.html">Configuration</a></li>
                    <li><a href="/apacheds/gen-docs/latest/apidocs">JavaDocs</a></li>
                    <li><a href="/apacheds/gen-docs/latest/xref">Cross-Reference</a></li>
                </ul>

                <h5>Support</h5>
<ul>
    <li><a href="/mailing-lists-and-irc.html">Mailing Lists &amp; IRC</a></li>
    <li><a href="/sources.html">Sources</a></li>
    <li><a href="/issue-tracking.html">Issue Tracking</a></li>
    <li><a href="/commercial-support.html">Commercial Support</a></li>
</ul>

<h5>Community</h5>
<ul>
    <li><a href="/contribute.html">How to Contribute</a></li>
    <li><a href="/team.html">Team</a></li>
    <li><a href="/original-project-proposal.html">Original Project Proposal</a></li>
    <li><a href="/special-thanks.html" class="external-link" rel="nofollow">Special Thanks</a></li>
</ul>

<h5>About Apache</h5>
<ul>
    <li><a href="http://www.apache.org/">Apache</a></li>
    <li><a href="http://www.apache.org/licenses/">License</a></li>
    <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
    <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
    <li><a href="http://www.apache.org/security/">Security</a></li>
</ul>

            </div>
        </div>
        <div id="rightColumn">
            
    <div class="nav">
        <div class="nav_prev">
            
                
                <a href="5.2-start-stop.html">5.2 - Starting and Stopping the server</a>
            
        </div>
        <div class="nav_up">
            
                
                <a href="5-administration.html">5 - Administration</a>
            
        </div>
        <div class="nav_next">
            
                
                <a href="5.4-replication.html">5.4 - Replication</a>
            
        </div>
        <div class="clearfix"></div>
    </div>


            
	<h1 id="53---logs">5.3 - Logs</h1>
<h2 id="531-logs-overview">5.3.1 Logs overview</h2>
<p>ApacheDS internally uses SLF4J as a facade for logs and Log4J is bundled in the standalone ApacheDS distributions.</p>
<p>Logs can be configured by modifying the <em><strong>log4j.properties</strong></em> file which can be found in the <em><strong>conf</strong></em> directory of the server instance (see the previous chapter &ldquo;<a href="5.1-layout.html">5.1 - Layout</a>&quot;).</p>
<p>Here is the Log4J configuration that comes with ApacheDS:</p>
<pre><code>#############################################################################
#    Licensed to the Apache Software Foundation (ASF) under one or more
#    contributor license agreements.  See the NOTICE file distributed with
#    this work for additional information regarding copyright ownership.
#    The ASF licenses this file to You under the Apache License, Version 2.0
#    (the &quot;License&quot;); you may not use this file except in compliance with
#    the License.  You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#    Unless required by applicable law or agreed to in writing, software
#    distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#    See the License for the specific language governing permissions and
#    limitations under the License.
#############################################################################
log4j.rootCategory=WARN, F

log4j.appender.F=org.apache.log4j.RollingFileAppender
log4j.appender.F.File=${apacheds.log.dir}/apacheds.log
log4j.appender.F.MaxFileSize=100MB
log4j.appender.F.MaxBackupIndex=3
log4j.appender.F.layout=org.apache.log4j.PatternLayout
log4j.appender.F.layout.ConversionPattern=[%d{HH:mm:ss}] %p [%c] - %m%n

# Specific loggers (useful for debugging)
#log4j.logger.jdbm.recman.BaseRecordManager=DEBUG
#log4j.logger.org.apache.directory.server.OPERATION_LOG=DEBUG
#log4j.logger.org.apache.directory.server.OPERATION_TIME=DEBUG
#log4j.logger.org.apache.directory.api.CODEC_LOG=DEBUG
#log4j.logger.org.apache.directory.server.ACI_LOG=DEBUG
#log4j.logger.org.apache.directory.server.PROVIDER_LOG=DEBUG
#log4j.logger.org.apache.directory.server.CONSUMER_LOG=DEBUG
#log4j.logger.org.apache.directory.CURSOR_LOG=DEBUG
#log4j.logger.org.apache.directory.api=DEBUG
#log4j.logger.org.apache.directory.server=DEBUG
#log4j.logger.net.sf.ehcache=DEBUG
#log4j.logger.org.apache.mina=DEBUG
</code></pre>
<h2 id="532-default-log-level">5.3.2 Default log level</h2>
<p>By default, ApacheDS ships with a default log level set to <strong>WARN</strong> as indicated in the first line of the <em><strong>log4j.properties</strong></em> file:</p>
<pre><code>log4j.rootCategory=WARN, F
</code></pre>
<p>This value can be modified to any of the seven log levels supported by Log4J:</p>
<center>
<table>
<thead>
<tr>
<th align="center">Level</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><em><strong>OFF</strong></em></td>
<td>Highest possible rank and is intended to turn off logging.</td>
</tr>
<tr>
<td align="center"><em><strong>FATAL</strong></em></td>
<td>Very severe error events that will presumably lead the application to abort.</td>
</tr>
<tr>
<td align="center"><em><strong>ERROR</strong></em></td>
<td>Error events that might still allow the application to continue running.</td>
</tr>
<tr>
<td align="center"><em><strong>WARN</strong></em></td>
<td>Potentially harmful situations.</td>
</tr>
<tr>
<td align="center"><em><strong>INFO</strong></em></td>
<td>Informational messages that highlight the progress of the application at coarse-grained level.</td>
</tr>
<tr>
<td align="center"><em><strong>DEBUG</strong></em></td>
<td>Fine-grained informational events that are most useful to debug an application.</td>
</tr>
<tr>
<td align="center"><em><strong>TRACE</strong></em></td>
<td>Finer-grained informational events than the DEBUG.</td>
</tr>
</tbody>
</table>
</center>
<p>Please refer to the <a href="http://logging.apache.org/log4j/1.2/manual.html"><strong>Log4J Manual</strong></a> for more details.</p>
<h2 id="532-apacheds-specific-loggers">5.3.2 ApacheDS specific loggers</h2>
<p>Bundled at the end of the <em><strong>log4j.properties</strong></em> file, are a set of specific loggers dedicated to a particular kind of events:</p>
<pre><code># Specific loggers (useful for debugging)
#log4j.logger.jdbm.recman.BaseRecordManager=DEBUG
#log4j.logger.org.apache.directory.server.OPERATION_LOG=DEBUG
#log4j.logger.org.apache.directory.server.OPERATION_TIME=DEBUG
#log4j.logger.org.apache.directory.api.CODEC_LOG=DEBUG
#log4j.logger.org.apache.directory.server.ACI_LOG=DEBUG
#log4j.logger.org.apache.directory.server.PROVIDER_LOG=DEBUG
#log4j.logger.org.apache.directory.server.CONSUMER_LOG=DEBUG
#log4j.logger.org.apache.directory.CURSOR_LOG=DEBUG
#log4j.logger.org.apache.directory.api=DEBUG
#log4j.logger.org.apache.directory.server=DEBUG
#log4j.logger.net.sf.ehcache=DEBUG
#log4j.logger.org.apache.mina=DEBUG
</code></pre>
<p>The table below summarizes what each specific logger does:</p>
<center>
<table>
<thead>
<tr>
<th>Logger</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>jdbm.recman.BaseRecordManager</strong></td>
<td>Logs all information related to the JDBM database used to store the entries.</td>
</tr>
<tr>
<td><strong>org.apache.directory.server.OPERATION_LOG</strong></td>
<td>Logs all executed operations (search, add, delete, etc.).</td>
</tr>
<tr>
<td><strong>org.apache.directory.server.OPERATION_TIME</strong></td>
<td>Logs the time each operation takes to execute.</td>
</tr>
<tr>
<td><strong>org.apache.directory.api.CODEC_LOG</strong></td>
<td>Logs all incoming and outgoing LDAP Protocol requests/responses.</td>
</tr>
<tr>
<td><strong>org.apache.directory.server.ACI_LOG</strong></td>
<td>Logs all information related to the ACI system.</td>
</tr>
<tr>
<td><strong>org.apache.directory.server.PROVIDER_LOG</strong></td>
<td>Logs all information related to the Replication Provider(s).</td>
</tr>
<tr>
<td><strong>org.apache.directory.server.CONSUMER_LOG</strong></td>
<td>Logs all information related to the Replication Consumer(s).</td>
</tr>
<tr>
<td><strong>org.apache.directory.CURSOR_LOG</strong></td>
<td>Logs all information related to the Cursors handling the search of entries in the database.</td>
</tr>
<tr>
<td><strong>org.apache.directory.api</strong></td>
<td>A general logger which logs all classes of the Apache Directory LDAP API.</td>
</tr>
<tr>
<td><strong>org.apache.directory.server</strong></td>
<td>A general logger which logs all classes of ApacheDS.</td>
</tr>
<tr>
<td><strong>net.sf.ehcache</strong></td>
<td>A general logger which logs all classes of the Ehcache API.</td>
</tr>
<tr>
<td><strong>org.apache.mina</strong></td>
<td>A general logger which logs all classes of the Apache Mina API.</td>
</tr>
</tbody>
</table>
</center>
<p>These loggers are deactivated by default to prevent them interfering with the root log level. Make sure to uncomment those you would like to activate (by removing the &lsquo;<em>#</em>&rsquo; character in front of the line) and set the dedicated log level according to the kind of information you&rsquo;re looking for.</p>


            
    <div class="nav">
        <div class="nav_prev">
            
                
                <a href="5.2-start-stop.html">5.2 - Starting and Stopping the server</a>
            
        </div>
        <div class="nav_up">
            
                
                <a href="5-administration.html">5 - Administration</a>
            
        </div>
        <div class="nav_next">
            
                
                <a href="5.4-replication.html">5.4 - Replication</a>
            
        </div>
        <div class="clearfix"></div>
    </div>


        </div>
        <div id="endContent"></div>
    </div>

    <div id="footer">
    &copy; 2003-2020, <a href="http://www.apache.org">The Apache Software Foundation</a> - <a href="/privacy-policy.html">Privacy Policy</a><br />
    Apache Directory, ApacheDS, Apache Directory Server, Apache Directory Studio, Apache LDAP API, Apache Triplesec,
    Triplesec, Apache Mavibot, Mavibot, Apache eSCIMo, eSCIMo, Apache SCIMple, SCIMple,Fortress, Apache Fortress, EnMasse,
    Apache EnMasse, Apache Kerby, Kerby, Apache, the Apache feather logo, and the Apache Directory project logos are
    trademarks of The Apache Software Foundation.
</div>

</div>

</body>

</html>
