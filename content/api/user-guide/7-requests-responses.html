<!DOCTYPE html>

<html lang="en">
<head>
    <title>7 - Requests and Responses &mdash; Apache Directory</title>

    <link href="/css/common.css" rel="stylesheet" type="text/css"/>
    <link href="/css/brown.css" rel="stylesheet" type="text/css"/>

    <link rel="shortcut icon" href="/images/api-icon_16x16.png">
</head>
<body>
<div id="container">
    <div id="header">
    <div id="subProjectsNavBar">
        <a href="/">
             
                Main
            
        </a>
        &nbsp;|&nbsp;
        <a href="/apacheds/">
             
                ApacheDS
            
        </a>
        &nbsp;|&nbsp;
        <a href="/studio/">
             
                Studio
            
        </a>
        &nbsp;|&nbsp;
        <a href="/api/">
            
                <strong>LDAP API</strong>
            
        </a>
        &nbsp;|&nbsp;
        <a href="/mavibot/">
             
                Mavibot
            
        </a>
        &nbsp;|&nbsp;
        <a href="/scimple/">
             
                SCIMple
            
        </a>
        &nbsp;|&nbsp;
        <a href="/fortress/">
             
                Fortress
            
        </a>
        &nbsp;|&nbsp;
        <a href="/kerby/">
             
                Kerby
            
        </a>
    </div>
</div>


    <div id="content">
        <div id="leftColumn">
            <div id="navigation">
                
                <h5>LDAP API </h5>
                <ul>
                    <li><a href="/api/">Home</a></li>
                    <li><a href="/api/news.html">News</a></li>
                </ul>

                <h5>Downloads</h5>
                <ul>
                    <li><a href="/api/downloads-1.html">Version 1.0.3</a>&nbsp;&nbsp;<img src="/images/new_badge.gif" alt="" style="margin-bottom:-3px;" border="0"></li>
                    <li><a href="/api/downloads-2.html">Version 2.0.1</a>&nbsp;&nbsp;<img src="/images/new_badge.gif" alt="" style="margin-bottom:-3px;" border="0"></li>
                    <li><a href="/api/download-old-versions.html">Older versions</a></li>
                </ul>

                <h5>Getting Started</h5>
                <ul>
                    <li><a href="/api/vision.html">Vision</a></li>
                    <li><a href="/api/java-api.html">Java API</a></li>
                </ul>

                <h5>Documentation</h5>
                <ul>
                    <li><a href="/api/five-minutes-tutorial.html">Five minute tutorial</a></li>
                    <li><a href="/api/user-guide.html">User Guide</a></li>
                    <li><a href="/api/migration-guide.html">API 1 to 2 migration</a></li>
                    <li><a href="/api/gen-docs/latest/apidocs/">JavaDocs</a></li>
                    <li><a href="/api/gen-docs/latest2/apidocs/">JavaDocs 2</a></li>
                    <li><a href="/api/gen-docs/latest/xref/">Cross-Reference</a></li>
                    <li><a href="/api/gen-docs/latest2/xref/">Cross-Reference 2</a></li>
                    
                    <li><a href="/api/developer-guide.html">Developer Guide</a></li>
                    <li><a href="/api/internal-design-guide.html">Internal Guide</a></li>
                </ul>

                <h5>Support</h5>
<ul>
    <li><a href="/mailing-lists-and-irc.html">Mailing Lists &amp; IRC</a></li>
    <li><a href="/sources.html">Sources</a></li>
    <li><a href="/issue-tracking.html">Issue Tracking</a></li>
    <li><a href="/commercial-support.html">Commercial Support</a></li>
</ul>

<h5>Community</h5>
<ul>
    <li><a href="/contribute.html">How to Contribute</a></li>
    <li><a href="/team.html">Team</a></li>
    <li><a href="/original-project-proposal.html">Original Project Proposal</a></li>
    <li><a href="/special-thanks.html" class="external-link" rel="nofollow">Special Thanks</a></li>
</ul>

<h5>About Apache</h5>
<ul>
    <li><a href="http://www.apache.org/">Apache</a></li>
    <li><a href="http://www.apache.org/licenses/">License</a></li>
    <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
    <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
    <li><a href="http://www.apache.org/security/">Security</a></li>
</ul>

            </div>
        </div>
        <div id="rightColumn">
            
    <div class="nav">
        <div class="nav_prev">
            
                
                <a href="6-ldap-data-structures.html">6 - LDAP Data Structures</a>
            
        </div>
        <div class="nav_up">
            
                
                <a href="../user-guide.html">User Guide</a>
            
        </div>
        <div class="nav_next">
            
                
                <a href="8-ldap-rfcs.html">8 - LDAP Related RFCs</a>
            
        </div>
        <div class="clearfix"></div>
    </div>


            
	<h1 id="7---requests-and-responses-">7 - Requests and Responses (&hellip;)</h1>
<p>Here we will describe all the Java structures used to process LDAP message (Requests and Responses). This can be useful whenever one wants to send a message or process a response, using all possible options.</p>
<h2 id="inherited-classes">Inherited classes</h2>
<p>All the messages inherit from a few classes that are described here. They gather the common fields used across most message types.</p>
<h3 id="the-message-interface">The Message interface</h3>
<p>This is the parent of the message hierarchy. Every message has a few characteristics that are available across all of its inherited classes:</p>
<pre><code>* Id : the message ID which is generated by the server or the client. You should never add it
* Controls : The list of controls you add to a request or that get added by the response
</code></pre>
<p>Here is the Message interface:</p>
<pre><code>:::Java
/**
 * Root interface for all LDAP message type interfaces.
 * 
 * @author &lt;a href=&quot;mailto:dev@directory.apache.org&quot;&gt;Apache Directory Project&lt;/a&gt;
 */
public interface Message
{
    /**
     * Gets the LDAP message type code associated with this Message. Each
     * request and response type has a unique message type code defined by the
     * protocol in &lt;a href=&quot;http://www.faqs.org/rfcs/rfc2251.html&quot;&gt;RFC 2251&lt;/a&gt;.
     * 
     * @return the message type code.
     */
    MessageTypeEnum getType();


    /**
     * Gets the controls associated with this message mapped by OID.
     * 
     * @return Map of OID strings to Control object instances.
     */
    Map&lt;String, Control&gt; getControls();


    /**
     * Gets the control associated with the given OID.
     * 
     * @param oid The Cntrol's OID we are looking for
     * @return The Control object instance with the OID.
     */
    Control getControl( String oid );


    /**
     * Checks whether or not this message has the specified control.
     *
     * @param oid the OID of the control
     * @return true if this message has the control, false if it does not
     */
    boolean hasControl( String oid );


    /**
     * Adds a control to this Message.
     * 
     * @param control the control to add.
     * @return A Message reference
     * @throws org.apache.directory.shared.ldap.model.exception.MessageException if controls cannot be added to this Message or the control is
     *             not known etc.
     */
    Message addControl( Control control ) throws MessageException;


    /**
     * Adds an array of controls to this Message.
     * 
     * @param controls the controls to add.
     * @return A Message reference
     * @throws MessageException if controls cannot be added to this Message or they are not known etc.
     */
    Message addAllControls( Control[] controls ) throws MessageException;


    /**
     * Deletes a control removing it from this Message.
     * 
     * @param control the control to remove.
     * @return A Message reference
     * @throws MessageException if controls cannot be added to this Message or the control is
     *             not known etc.
     */
    Message removeControl( Control control ) throws MessageException;


    /**
     * Gets the session unique message sequence id for this message. Requests
     * and their responses if any have the same message id. Clients at the
     * initialization of a session start with the first message's id set to 1
     * and increment it with each transaction.
     * 
     * @return the session unique message id.
     */
    int getMessageId();


    /**
     * Sets the Message ID for this request
     * @param messageId The message Id
     * @return A Message reference
     */
    Message setMessageId( int messageId );
}
</code></pre>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="7.1-abandon-request.html">7.1 - AbandonRequest</a></li>
<li><a href="7.2-add-request.html">7.2 - AddRequest</a></li>
<li><a href="7.3-add-response.html">7.3 - AddResponse</a></li>
<li><a href="7.4-bind-request.html">7.4 - BindRequest</a></li>
<li><a href="7.5-bind-response.html">7.5 - BindResponse</a></li>
<li><a href="7.6-compare-request.html">7.6 - CompareRequest</a></li>
<li><a href="7.7-compare-response.html">7.7 - CompareResponse</a></li>
<li><a href="7.8-del-request.html">7.8 - DelRequest</a></li>
<li><a href="7.9-del-response.html">7.9 - DelResponse</a></li>
<li><a href="7.10-extended-request.html">7.10 - ExtendedRequest</a></li>
<li><a href="7.11-extended-response.html">7.11 - ExtendedResponse</a></li>
<li><a href="7.12-intermediate-response.html">7.12 - IntermediateResponse</a></li>
<li><a href="7.13-mod-dn-request.html">7.13 - ModDnRequest</a></li>
<li><a href="7.14-mod-dn-response.html">7.14 - ModDnResponse</a></li>
<li><a href="7.15-modify-request.html">7.15 - ModifyRequest</a></li>
<li><a href="7.16-modify-response..html">7.16 - ModifyResponse</a></li>
<li><a href="7.17-search-request.html">7.17 - SearchRequest</a></li>
<li><a href="7.18-search-result-done.html">7.18 - SearchResultDone</a></li>
<li><a href="7.19-search-result-entry.html">7.19 - SearchResultEntry</a></li>
<li><a href="7.20-search-result-reference.html">7.20 - SearchResultReference</a></li>
<li><a href="7.21-unbind-request.html">7.21 - UnbindRequest</a></li>
</ul>


            
    <div class="nav">
        <div class="nav_prev">
            
                
                <a href="6-ldap-data-structures.html">6 - LDAP Data Structures</a>
            
        </div>
        <div class="nav_up">
            
                
                <a href="../user-guide.html">User Guide</a>
            
        </div>
        <div class="nav_next">
            
                
                <a href="8-ldap-rfcs.html">8 - LDAP Related RFCs</a>
            
        </div>
        <div class="clearfix"></div>
    </div>


        </div>
        <div id="endContent"></div>
    </div>

    <div id="footer">
    &copy; 2003-2020, <a href="http://www.apache.org">The Apache Software Foundation</a> - <a href="/privacy-policy.html">Privacy Policy</a><br />
    Apache Directory, ApacheDS, Apache Directory Server, Apache Directory Studio, Apache LDAP API, Apache Triplesec,
    Triplesec, Apache Mavibot, Mavibot, Apache eSCIMo, eSCIMo, Apache SCIMple, SCIMple,Fortress, Apache Fortress, EnMasse,
    Apache EnMasse, Apache Kerby, Kerby, Apache, the Apache feather logo, and the Apache Directory project logos are
    trademarks of The Apache Software Foundation.
</div>

</div>

</body>

</html>
